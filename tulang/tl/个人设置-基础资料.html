<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>个人设置-基础资料</title>
    <!-- bootstap -->
    <link rel="stylesheet" href="bootstrap-3.3.5/css/bootstrap.min.css">

    <!-- 字体图标 -->
    <link rel="stylesheet" href="fonts/css/font-awesome.min.css">

    <!-- linkcloud -->
    <!--<link rel="stylesheet" href="../css/demo.css">-->
    <link rel="stylesheet" href="plugins/uploadify/css/upload.css">
    <link rel="stylesheet" href="css/wmz.css">

    <!-- your css -->
    <!--<link rel="stylesheet" href="../css/customer.css">-->
    <link rel="stylesheet" href="css/all.css"/>


</head>
<body class="f-bg2">
<nav class="m-header navbar-fixed-top">
    <div class="g-container">
        <h1><a href="#"><img width="112" height="48" src="img/logo2.png" alt=""/></a><span class="sr-only">图狼网</span>
        </h1>

        <ul class="nav-main">
            <li class="active"><a href="#">了解我们</a></li>
            <li><a href="#">设计机构</a></li>
            <li><a href="#">寻找任务</a></li>
            <li><a href="#">图狼达人</a></li>
        </ul>

        <ul class="nav2">
            <li class="item search">
                <div class="input">
                    <input type="text"/>
                </div>
            </li>
            <li class="item fb">
                <a class="button" href="javascript:;">发布任务</a>
            </li>
            <li class="item msg">
                <span class="dot"></span>
                <img src="img/icon-msg.png" alt=""/>

                <div class="msgList">
                    <div class="inner">
                        <div class="text-center f-mb20">
                            <div class="tabs">
                                <a class="active" href="javascript:;">私信</a>
                                <a href="javascript:;">通知</a>
                            </div>
                        </div>
                        <ul>
                            <li>
                                <div class="media">
                                    <div class="media-left">
                                        <img class="img-circle" width="50" height="50" src="" alt=""/>
                                    </div>
                                    <div class="media-body">
                                        <div class="media-heading">用户名<span class="pull-right">3月15日</span></div>
                                        <p class="text-overflow">省深圳市南山区留仙大道世外桃源创意园省深圳市南山区留仙大道世外桃源创意园</p>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="media">
                                    <div class="media-left">
                                        <img class="img-circle" width="50" height="50" src="" alt=""/>
                                    </div>
                                    <div class="media-body">
                                        <div class="media-heading">用户名<span class="pull-right">3月15日</span></div>
                                        <p class="text-overflow">省深圳市南山区留仙大道世外桃源创意园省深圳市南山区留仙大道世外桃源创意园</p>
                                    </div>
                                </div>
                            </li>
                            <li>
                                <div class="media">
                                    <div class="media-left">
                                        <img class="img-circle" width="50" height="50" src="" alt=""/>
                                    </div>
                                    <div class="media-body">
                                        <div class="media-heading">用户名<span class="pull-right">3月15日</span></div>
                                        <p class="text-overflow">省深圳市南山区留仙大道世外桃源创意园省深圳市南山区留仙大道世外桃源创意园</p>
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <div class="more">
                        <img src="img/icon-settings.png" alt=""/>
                        <a class="pull-right" href="javascript:;">查看更多</a>
                    </div>
                </div>
            </li>
            <li class="item tx">
                <div class="pic">
                    <span class="u-icon u-icon-v2"></span>
                    <img class="img-circle" width="50" height="50" src="img/tx-default.png" alt=""/>
                </div>
                <ul class="subNav">
                    <li><a href="javascript:;">我的主页</a></li>
                    <li><a href="javascript:;">我的账簿</a></li>
                    <li><a href="javascript:;">账号设置</a></li>
                    <li><a href="javascript:;"><span style="color: #ff4e4e;">退出</span></a></li>
                </ul>
            </li>
        </ul>

    </div>
</nav>
<div class="m-headerSpace"></div>

<div class="container f-mb40">

    <div class="p-userSetting">
        <div class="p-box f-bg">
            <div class="p-box-hd">
                <div class="m-title">
                    <h2>用户设置</h2>
                </div>
                <ul class="u-nav clearfix">
                    <li class="active"><a href="">基本资料</a></li>
                    <li><a href="">账号和密码</a></li>
                    <li><a href="">绑定微信</a></li>
                    <li><a href="">消息和好友</a></li>
                    <li><a href="">认证信息</a></li>
                    <li class="last"><a href="">项目案例</a></li>
                </ul>
            </div>
            <div class="p-box-bd">


                <div class="form-box">
                    <form method="post" class="form-horizontal" id="f-form-userSetting-base">


                        <div class="form-group">
                            <label class="col-sm-2 control-label">头像</label>

                            <div class="col-sm-10">
                                <div class="upload_image_row no_padding">
                                    <div class="upload_col upload_default_image">
                                        <div class="upload_img_main"></div>
                                        <a href="javascript: onCloseFile('file_upload01', '*');"
                                           class="upload_img_main_close">取消</a>
                                    </div>
                                    <div class="upload_col">
                                        <div class="upload_image_main file_upload01">
                                            <div class="upload_col upload_input">
                                                <input id="file_upload01" class="file_upload" name="file_upload"
                                                       type="file">
                                            </div>
                                            <div class="upload_col upload_info">图片大小2M以内</div>
                                        </div>
                                        <div class="clear"></div>
                                        <div class="upload_queue_main">
                                            <div id="queue01" class="queue file_upload01"></div>
                                        </div>

                                    </div>

                                    <div class="clear"></div>
                                </div>
                            </div>
                        </div>


                        <div class="form-group form-inline">
                            <label class="col-sm-2 control-label">认证信息</label>

                            <div class="col-sm-10">
                                <div class="f-mb10">
                                    <input type="text" class="form-control" value="文沛霖"/><span style="margin-left:2em;">认证信息 <a class="f-tdu"
                                                                                                  href="#">去认证</a></span>
                                </div>
                                <div class="">
                                    <label class="radio-inline">
                                        <input type="radio" name="inlineRadioOptions" value="option1" checked> 展示认证
                                    </label>
                                    <label class="radio-inline">
                                        <input type="radio" name="inlineRadioOptions" value="option2"> 不展示认证
                                    </label>
                                    <span class="form-text "><span class="m-c1">(认证展示的用户将被推荐到达人区)</span></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-group form-inline">
                            <label class="col-sm-2 control-label">昵称</label>

                            <div class="col-sm-10">

                                <input name="nickName" type="text" class="form-control" value="文沛霖"/>

                            </div>
                        </div>


                        <div class="form-group">
                            <label class="col-sm-2 control-label">一句话简介</label>

                            <div class="col-sm-10">

                                <input type="text" class="form-control iptw" value="天行健，君子当自强不息。地势坤，君子以厚德载物。"/>

                            </div>
                        </div>


                        <div class="form-group">
                            <label class="col-sm-2 control-label">我的标签</label>

                            <div class="col-sm-10 f-pt7">
                                <div class="j-tagBox">
                                    <!--<span class="label label-2 label-r label-sm">333 <i class="glyphicon glyphicon-remove"></i></span>-->
                                </div>
                                <div>
                                    <div class="input-group iptw">
                                        <input maxlength="20" type="text" class="form-control j-tagIpt"
                                               placeholder="20个字以内，最多可以添加5个标签">
                                      <span class="input-group-btn">
                                        <button class="btn btn-primary j-addTag" type="button">添加</button>
                                      </span>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <label class="col-sm-2 control-label">详细描述</label>

                            <div class="col-sm-10">
                                <div class="f-pr40">
                                    <textarea class="form-control" rows="5">深圳利好政策频出，房价直线飙升，有不少媒体解读认为，杠杆资金和“炒房客”趁机杀入市场，形成新一轮的房价推手。近日，《证券日报》记者赶赴深圳，对房地产市场进行了实地调查，发现购房主力依然是刚需人群。深圳利好政策频出，房价直线飙升，有不少媒体解读认为，杠杆资金和“炒房客”趁机　</textarea>
                                </div>
                            </div>
                        </div>


                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="button" class="btn btn-primary btn-w100 j-btnSave">保存</button>
                            </div>
                        </div>
                    </form>
                </div>

            </div>
        </div>
    </div>
</div>


<!-- S 底部 -->
<nav class="m-footer">
    <div class="g-container">
        <p class="info"><span>Copyright © 2014-2016 <a class="navbar-link"
                                                       href="javascript:;">kaistart.com</a></span><span>渝ICP备14039480号-1</span><span>京公网安备 33011002010123</span>
        </p>

        <p class="link">
            <a class="navbar-link" href="javascript:;">关于</a>|
            <a class="navbar-link" href="javascript:;">我们是谁</a>|
            <a class="navbar-link" href="javascript:;">帮助</a>|
            <a class="navbar-link" href="javascript:;">用户协议</a>|
            <a class="navbar-link" href="javascript:;">信任与安全</a>

            <a class="fa fa-weixin" href="javascript:;"></a>
            <a class="fa fa-weibo" href="javascript:;"></a>
        </p>
    </div>
</nav>
<!-- E 底部 -->


<!-- Large modal -->
<div class="modal fade j-txpopBox" role="dialog" aria-labelledby="gridSystemModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="gridSystemModalLabel">上传头像</h4>
            </div>
            <div class="modal-body text-center">

                <form id="f-form-crop" action="crop.php" method="post" onsubmit="return checkCoords();">
                    <input type="hidden" id="x" name="x"/>
                    <input type="hidden" id="y" name="y"/>
                    <input type="hidden" id="w" name="w"/>
                    <input type="hidden" id="h" name="h"/>
                    <!--<input type="submit" value="Crop Image" class="btn btn-large btn-inverse" />-->
                </form>
                <script>
                    function checkCoords() {
                        if (parseInt($('#w').val())) return true;
//                        alert('Please select a crop region then press submit.');
                        return false;
                    }
                </script>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary j-btn-saveCrop">保存图片</button>
            </div>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>
<!-- /.modal -->

<!-- jquery -->
<script src="libs/jquery-2.2.2/jquery.min.js"></script>

<!-- bootsrap -->
<script src="bootstrap-3.3.5/js/bootstrap.min.js"></script>

<!-- plugins -->
<link rel="stylesheet" href="plugins/jquery-validationEngine/css/validationEngine.jquery.css">
<script src="plugins/jquery-validationEngine/js/jquery.validationEngine-zh_CN.js"></script>
<script src="plugins/jquery-validationEngine/js/jquery.validationEngine.min.js"></script>

<script src="plugins/uploadify/js/jquery.uploadify.js"></script>







<!-- linkcloud -->
<script src="js/main.js"></script>

<!-- your js -->
<script>
    $(function () {
        // 个人设置-基本资料
        (function () {
            var $form = $('#f-form-userSetting-base');

            // 添加标签
            var $tagBox = $form.find('.j-tagBox');
            var $tagBtn = $form.find('.j-addTag');
            var $tagIpt = $form.find('.j-tagIpt');
            var tagLen = 5;
            var curLen = 0;

            $tagBtn.click(function () {

                curLen = $tagBox.children().length;
                var _str = $.trim($tagIpt.val());

                if (_str.length > 0) {
                    if (curLen < tagLen) {
                        var $label = '<span class="label label-2 label-r label-sm">' + _str + ' <i class="glyphicon glyphicon-remove"></i></span>';

                        $tagBox.append($label);
                        $tagIpt.val('');

                    }
                }


            });
            $tagBox.click(function (ev) {

                if (ev.target.nodeName.toLowerCase() == 'i') {
                    curLen = $tagBox.children().length;
                    $( ev.target ).parent().remove();
                }
            });


            function getAllTags() {
                var sTags = '';
                $tagBox.children().each(function (index, elem) {
                    sTags += $(this).text() + ',';
                });

                if (sTags.length > 0) {
                    sTags = sTags.substring(0, sTags.length - 1);
                }
                return sTags;
            }


            var $btnSave = $('.j-btnSave');

            $btnSave.click(function () {
                var seri = $form.serialize();
                console.log(getAllTags());
                console.log(seri);

                //$.post(
                //    // 接收数据的PHP页面
                //    url : 'action.php',
                //    // 传给PHP的数据，多个参数用&连接或者使用json格式数据：{a:'value1',b:'value2'}
                //    data : "a=value1&b=value2",
                //    function(msg){
                //        // 这里是请求发送成功后的回调函数。
                //        // msg是返回的数据，数据类型在type参数里定义！
                //    },
                //    // 默认返回字符串，设置值等于json则返回json数据
                //    type:'json',
                //)

                //$form.submit();
            });

        })();
    });



    //图片上传参数
    var uploadImageOptions = {
        buttonClass: "upload_button",
        width: 77,
        height: 32,
        fileSizeLimit: 1024 * 2,// KB
        buttonText: "上传",
        swf: 'plugins/wb02/js/uploadify.swf',
        removeCompleted: false,
        removeTimeout: 0,
        fileTypeDesc: 'Image Files',
        fileTypeExts: '*.jpg;*.jpeg;*.png',
        multi: false,
        itemTemplate: '<div id="${fileID}" class="uploadify-queue-item">\
        <div class="fileName">${fileName}</div>\
            <div class="fileSize">（${fileSize}）</div>\
            <div class="uploadify-progress">\
            <div class="uploadify-progress-bar"><!--Progress Bar--></div>\
            </div>\
            <a class="upload_img_close" href="javascript: onCloseFile(\'${instanceID}\', \'${fileID}\');">取消</a>\
            </div>',
        //后台地址
        uploader: 'uploadify.php',
        method: "post",
        onSelect: onSelect,
        onUploadComplete: onUploadComplete,
        onUploadSuccess: onUploadSuccess,
        type: 2
    };
    var _file_upload01 = $("#file_upload01");
    uploadImageOptions["queueID"] = "queue01";
    _file_upload01.uploadify(uploadImageOptions);

    function onUploadSuccess(file, msg, status) {
        console.log(msg); //这里获得后台的图片路劲 自行赋值
        var self = this;
        switch (self.settings.type) {
            case 2:
                $(".upload_img_main." + self.settings.id).html('<img src="' + msg + '"/>').addClass("show");
                break;
        }
    }

    function onSelect() {
        var self = this;
        switch (self.settings.type) {
            case 1:
                //附件
                $(".upload_none_box." + self.settings.id).hide();
                break;
            case 2:
                //图片
                var _list = $("#" + self.settings.queueID + " .uploadify-queue-item");
                if (_list.length > 1) {
                    _list.eq(0).each(function () {
                        var id = $(this).attr("id");
                        $("#" + self.settings.id).uploadify('cancel', id);
                    });
                }
                break;
        }

    }

    function onSelectError() {
        var self = this;
        switch (self.settings.type) {
            case 1:
                //附件
                notUploadQueue(self);
                break;
        }

    }

    function onUploadComplete(file) {
        var self = this;
        switch (self.settings.type) {
            case 2:
                //图片
                var _file = $("#" + file.id);
                if (_file.length) {
                    _file.delay(1000).fadeOut(300);
                }
                break;
        }

    }

    function onCloseFile(instanceID, fileID) {

        layer.confirm('<div class="dialog_content"><i class="upload_bg upload_gt_bg"></i>亲，你真要删掉我吗？</div>', {
            skin: "dialog_layer",
            closeBtn: 0, //不显示关闭按钮
            shade: 0,
            title: "删除提示",
            area: ['567px', '211px'],
            btn: ['确定', '取消'] //按钮
        }, function () {
            $("#" + instanceID).uploadify('cancel', fileID);
            notUploadQueue(null, instanceID);
            layer.closeAll();
        }, function () {
            layer.closeAll();
        });

    }

    function notUploadQueue(uploadify, instanceID) {
        if (uploadify) {
            if (uploadify.queueData.filesQueued != 0) {
                $(".upload_none_box." + uploadify.settings.id).hide();
            } else {
                $(".upload_none_box." + uploadify.settings.id).show();
            }
        } else {
            if ($(".queue." + instanceID + " .uploadify-queue-item").length) {
                $(".upload_none_box." + instanceID).hide();
            } else {
                $(".upload_none_box." + instanceID).show();
            }
        }

    }

    function layerConfirm(title, content, cb1, cb2) {
        layer.confirm(content, {
            skin: "dialog_layer",
            shade: 0,
            title: title,
            area: ['567px', '211px'],
            btn: ['确定', '取消'] //按钮
        }, function () {
            cb1 && cb1();
            layer.closeAll();
        }, function () {
            cb2 && cb2();
            layer.closeAll();
        });
    }

    function layerAlert(title, content) {
        layer.alert(content, {
            skin: "dialog_layer",
            shade: 0,
            title: title,
            area: ['567px', '211px']
        });
    }
</script>
</body>
</html>